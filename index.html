<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Validador de CPF</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 400px;
            margin: 50px auto;
            padding: 20px;
            background-color: #f5f5f5;
        }

        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: #555;
            font-weight: bold;
        }

        #cpfInput {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            box-sizing: border-box;
        }

        #cpfInput:focus {
            border-color: #4CAF50;
            outline: none;
        }

        #validateBtn {
            width: 100%;
            padding: 12px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            margin-bottom: 20px;
        }

        #validateBtn:hover {
            background-color: #45a049;
        }

        .result {
            padding: 15px;
            border-radius: 5px;
            text-align: center;
            font-weight: bold;
            margin-top: 15px;
        }

        .valid {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .invalid {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .hidden {
            display: none;
        }

        .info {
            background-color: #e3f2fd;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
            font-size: 14px;
            color: #0d47a1;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Validador de CPF</h1>
        
        <div class="input-group">
            <label for="cpfInput">Digite o CPF:</label>
            <input type="text" id="cpfInput" placeholder="000.000.000-00" maxlength="14">
        </div>
        
        <button id="validateBtn" onclick="validateCPF()">Validar CPF</button>
        
        <div id="result" class="result hidden"></div>
        
        <div class="info">
            <strong>Como usar:</strong><br>
            Digite um CPF com ou sem pontos e traços.<br>
            Exemplo: 11144477735 ou 111.444.777-35
        </div>
    </div>

    <script>
        /**
         * Função principal para validar CPF
         * Aplica a formatação automática e valida o CPF digitado
         */
        function validateCPF() {
            const input = document.getElementById('cpfInput');
            const result = document.getElementById('result');
            
            // Pega o valor e remove caracteres não numéricos
            let cpf = input.value.replace(/\D/g, '');
            
            // Verifica se tem 11 dígitos
            if (cpf.length !== 11) {
                showResult('CPF deve ter 11 dígitos!', false);
                return;
            }
            
            // Verifica se não são todos os números iguais (ex: 111.111.111-11)
            if (/^(\d)\1{10}$/.test(cpf)) {
                showResult('CPF inválido: todos os números são iguais!', false);
                return;
            }
            
            // Validação dos dígitos verificadores
            if (isValidCPF(cpf)) {
                showResult(`CPF ${formatCPF(cpf)} é válido!`, true);
            } else {
                showResult(`CPF ${formatCPF(cpf)} é inválido!`, false);
            }
        }
        
        /**
         * Valida os dígitos verificadores do CPF
         * @param {string} cpf - CPF com 11 dígitos numéricos
         * @returns {boolean} - true se válido, false se inválido
         */
        function isValidCPF(cpf) {
            // Cálculo do primeiro dígito verificador
            let sum = 0;
            for (let i = 0; i < 9; i++) {
                sum += parseInt(cpf[i]) * (10 - i);
            }
            let firstDigit = (sum * 10) % 11;
            if (firstDigit === 10) firstDigit = 0;
            
            // Verifica o primeiro dígito
            if (firstDigit !== parseInt(cpf[9])) {
                return false;
            }
            
            // Cálculo do segundo dígito verificador
            sum = 0;
            for (let i = 0; i < 10; i++) {
                sum += parseInt(cpf[i]) * (11 - i);
            }
            let secondDigit = (sum * 10) % 11;
            if (secondDigit === 10) secondDigit = 0;
            
            // Verifica o segundo dígito
            return secondDigit === parseInt(cpf[10]);
        }
        
        /**
         * Formata o CPF para exibição com pontos e traço
         * @param {string} cpf - CPF com 11 dígitos numéricos
         * @returns {string} - CPF formatado (000.000.000-00)
         */
        function formatCPF(cpf) {
            return cpf.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, '$1.$2.$3-$4');
        }
        
        /**
         * Exibe o resultado da validação na tela
         * @param {string} message - Mensagem a ser exibida
         * @param {boolean} isValid - Se o CPF é válido ou não
         */
        function showResult(message, isValid) {
            const result = document.getElementById('result');
            result.textContent = message;
            result.className = `result ${isValid ? 'valid' : 'invalid'}`;
            result.classList.remove('hidden');
        }
        
        /**
         * Formatação automática do campo de entrada enquanto o usuário digita
         */
        document.getElementById('cpfInput').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, ''); // Remove tudo que não é número
            
            // Aplica a formatação automaticamente
            if (value.length >= 6) {
                value = value.replace(/(\d{3})(\d{3})(\d{0,3})/, '$1.$2.$3');
            } else if (value.length >= 4) {
                value = value.replace(/(\d{3})(\d{0,3})/, '$1.$2');
            }
            
            if (value.length >= 10) {
                value = value.replace(/(\d{3})\.(\d{3})\.(\d{3})(\d{0,2})/, '$1.$2.$3-$4');
            }
            
            e.target.value = value;
            
            // Esconde o resultado quando o usuário está digitando
            document.getElementById('result').classList.add('hidden');
        });
        
        /**
         * Permite validar pressionando Enter
         */
        document.getElementById('cpfInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                validateCPF();
            }
        });
        
        // Exemplos de CPFs válidos para teste (apenas para referência)
        // 11144477735 - CPF válido
        // 12345678909 - CPF válido  
        // 11111111111 - CPF inválido (todos iguais)
    </script>
</body>
</html>